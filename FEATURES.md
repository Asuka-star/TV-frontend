# 南亭探店前端项目

基于 Vue 3 + TypeScript + Element Plus 开发的探店平台前端应用。

## 已实现功能

### 1. 用户模块
- ✅ 用户注册 (`/register`)
- ✅ 用户登录 (`/login`)
- ✅ 用户信息管理
- ✅ 查询用户粉丝数

### 2. 动态模块
- ✅ 动态列表展示 (`/posts`)
- ✅ 发布动态（支持图片上传）
- ✅ 动态详情页 (`/post/:id`)
- ✅ 游标分页加载
- ✅ 点赞动态
- ✅ 收藏动态
- ✅ 评论动态

### 3. 商铺模块
- ✅ 商铺列表 (`/shops`)
- ✅ 商铺详情 (`/shop/:id`)
- ✅ 商铺注册
- ✅ 商铺搜索（按名称）
- ✅ 关注商铺
- ✅ 点赞商铺
- ✅ 商铺评论
- ✅ 查询用户名下商铺
- ✅ 删除商铺

### 4. 优惠券模块
- ✅ 查询商铺优惠券
- ✅ 优惠券秒杀
- ✅ 查询优惠券库存
- ✅ 新增优惠券
- ✅ 删除优惠券

### 5. 订单模块
- ✅ 查询用户订单
- ✅ 订单支付

### 6. 评论模块
- ✅ 新增评论
- ✅ 删除评论
- ✅ 分页查询评论
- ✅ 点赞评论

### 7. 点赞模块
- ✅ 点赞/取消点赞
- ✅ 支持点赞动态、评论、商铺
- ✅ 查询用户点赞记录

### 8. 关注模块
- ✅ 关注/取消关注
- ✅ 支持关注用户和商铺
- ✅ 分页查询关注列表

### 9. 收藏模块
- ✅ 收藏/取消收藏动态

### 10. 个人中心
- ✅ 我的订单
- ✅ 我的商铺
- ✅ 我的关注
- ✅ 退出登录

## 项目结构

```
src/
├── api/              # API 接口定义
│   ├── user.ts       # 用户接口
│   ├── post.ts       # 动态接口
│   ├── shop.ts       # 商铺接口
│   ├── comment.ts    # 评论接口
│   ├── thumb.ts      # 点赞接口
│   ├── follow.ts     # 关注接口
│   ├── favorite.ts   # 收藏接口
│   ├── coupon.ts     # 优惠券接口
│   └── order.ts      # 订单接口
├── views/            # 页面组件
│   ├── LoginView.vue        # 登录页
│   ├── RegisterView.vue     # 注册页
│   ├── HomeView.vue         # 主页（包含导航）
│   ├── PostListView.vue     # 动态列表
│   ├── PostDetailView.vue   # 动态详情
│   ├── ShopListView.vue     # 商铺列表
│   ├── ShopDetailView.vue   # 商铺详情
│   └── ProfileView.vue      # 个人中心
├── stores/           # 状态管理
│   └── userStore.ts  # 用户状态
├── util/             # 工具函数
│   └── requests.ts   # axios 封装
└── router/           # 路由配置
    └── index.ts

```

## 路由配置

| 路径 | 说明 | 是否需要登录 |
|------|------|------------|
| `/` | 首页（重定向到 `/posts`） | 否 |
| `/login` | 登录页 | 否 |
| `/register` | 注册页 | 否 |
| `/posts` | 动态列表 | 否 |
| `/post/:id` | 动态详情 | 否 |
| `/shops` | 商铺列表 | 否 |
| `/shop/:id` | 商铺详情 | 否 |
| `/profile` | 个人中心 | 是 |

## API 端口配置

根据 API 文档，后端服务分布在不同端口：

- 用户服务：`http://localhost:8098`
- 评论服务：`http://localhost:8091`
- 订单/优惠券服务：`http://localhost:8092`
- 收藏服务：`http://localhost:8093`
- 关注服务：`http://localhost:8094`
- 动态服务：`http://localhost:8095`
- 商铺服务：`http://localhost:8096`
- 点赞服务：`http://localhost:8097`

**注意**：当前项目配置的基础 URL 为 `http://10.21.76.53:8090`（网关地址），如果需要修改，请编辑 `src/util/requests.ts` 文件。

## 启动项目

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

## 主要功能说明

### 动态广场
- 查看所有用户发布的动态
- 发布图文动态（支持上传最多 9 张图片）
- 点赞、评论、收藏动态
- 游标分页加载更多

### 商铺列表
- 浏览所有商铺
- 按商铺名称搜索
- 查看商铺详情
- 关注和点赞商铺
- 注册新商铺

### 商铺详情
- 查看商铺基本信息
- 查看商铺优惠券
- 秒杀优惠券（生成订单）
- 发表评论
- 点赞评论

### 个人中心
- **我的订单**：查看所有订单，支付待支付订单
- **我的商铺**：管理自己的商铺，删除商铺
- **我的关注**：查看关注列表，取消关注

## 技术栈

- **框架**：Vue 3 (Composition API)
- **语言**：TypeScript
- **UI 库**：Element Plus
- **状态管理**：Pinia
- **路由**：Vue Router
- **HTTP 客户端**：Axios
- **构建工具**：Vite

## 注意事项

1. 部分接口需要用户登录后才能访问（如发布动态、评论、点赞等）
2. Token 会自动存储在 localStorage，刷新页面后保持登录状态
3. 请求拦截器会自动添加 Authorization 头
4. 响应拦截器统一处理错误，展示后端返回的错误信息

## 后续可扩展功能

- [ ] 图片上传预览和压缩
- [ ] 优惠券管理页面（商铺主使用）
- [ ] 实时通知功能
- [ ] 用户主页
- [ ] 动态编辑和删除
- [ ] 搜索功能增强（按标签、位置等）
- [ ] 数据统计图表
